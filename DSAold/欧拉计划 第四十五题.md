Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:

| Triangle   |      | T*n*=*n*(*n*+1)/2  |      | 1, 3, 6, 10, 15, ...  |
| ---------- | ---- | ------------------ | ---- | --------------------- |
| Pentagonal |      | P*n*=*n*(3*n*−1)/2 |      | 1, 5, 12, 22, 35, ... |
| Hexagonal  |      | H*n*=*n*(2*n*−1)   |      | 1, 6, 15, 28, 45, ... |

It can be verified that T285 = P165 = H143 = 40755.

Find the next triangle number that is also pentagonal and hexagonal.

三角形，五角形和六角形数字由以下公式生成：

| 三角形 |      | T *n* = *n*（*n* +1）/ 2   |      | 1,3,6,10,15 ......   |
| ------ | ---- | -------------------------- | ---- | -------------------- |
| 五角形 |      | P *n* = *n*（3 *n* -1）/ 2 |      | 1,5,12,22,35 ......  |
| 六角形 |      | H *n* = *n*（2 *n* -1）    |      | 1,6,15,28,45，...... |

可以证实T 285 = P 165 = H 143 = 40755。

找到下一个满足三角形 五角形 六角形的数字。

#### 思路

1.满足六角形的数字一定满足三角形:令n = m ／ 2, n * (2 * n - 1) = m / 2 * (2 * m / 2 - 1) = m(m - 1)/2;令a=m-1,

m(m-1)/2 = (a+1)(a +1 - 1)/2=a(a+1)/2;得证

2.二分查找法查找x的n

```c
#include <stdio.h>
#include <inttypes.h>

int is_Pentagonal(int64_t x){//是否为五角形数字；
	int64_t min = 1, max = x, mid;//二分查找找到满足x=mid(3*mid-1)/2;
	while(min <= max){
		mid = (min + max) / 2;
		int64_t pen = mid * (3 * mid - 1) / 2;
		if(pen == x) return 1;
		if(pen < x) min = mid + 1;
		else max = mid - 1; 
	}
	return 0;
}

int main(){
	int64_t n = 145;//因为是下一个满足条件的数，直接从144的下一个数遍历即可；
	while(!is_Pentagonal(n * (2 * n - 1))) n++;//直接在这一步判断满足六角形数是否为五边形数即可；
	printf("%"PRId64"\n", n * (2 * n - 1));
	return 0;
}
```

